{"version":3,"sources":["webpack:///./cms/static/js/factories/edit_tabs.js","webpack:///./cms/static/js/models/explicit_url.js","webpack:///./cms/static/js/models/module_info.js","webpack:///./cms/static/js/views/module_edit.js","webpack:///./cms/static/js/views/tabs.js","webpack:///external \"jQuery\"?0cb8*********","webpack:///external \"_\"?b3b9********","webpack:///external \"Backbone\"","webpack:///external \"gettext\"?8b52***","webpack:///external \"URI\"?d4c3*"],"names":["EditTabsFactory","courseLocation","explicitUrl","xmoduleLoader","model","id","explicit_url","editView","el","$","mast","Backbone","Model","extend","defaults","url","get","ModuleUtils","ModuleInfo","urlRoot","data","metadata","children","__hasProp","hasOwnProperty","__extends","child","parent","key","call","Ctor","constructor","prototype","__super__","define","_","gettext","XBlock","XBlockView","EditXBlockModal","ModuleEdit","_super","apply","arguments","tagName","className","editorMode","events","initialize","onDelete","options","render","loadDisplay","xblockElement","$el","find","length","initializeBlock","createItem","payload","callback","_this","isNull","parent_locator","postJSON","set","locator","courseKey","success","loadView","viewName","target","ajax","decodeURIComponent","type","cache","headers","Accept","fragment","renderXBlockFragment","done","delegateEvents","clickEditButton","event","modal","preventDefault","edit","refresh","bind","analytics","course_location_analytics","ui","PromptView","NotificationView","ModuleEditView","ModuleModel","TabsEdit","self","deleteTab","addNewTab","tabMoved","toggleVisibilityOfTab","each","idx","element","on","sortable","handle","update","helper","opacity","placeholder","forcePlaceholderSize","axis","items","checkbox_element","saving","tab_element","parents","Mini","title","show","JSON","stringify","tab_id_locator","tab_id","tab_locator","is_hidden","is","contentType","hide","tabs","push","track","course","editor","before","addClass","setTimeout","removeClass","animate","scrollTop","offset","top","category","confirm","Warning","message","actions","primary","text","click","view","$component","deleting","currentTarget","getUpdateUrl","remove","secondary","View"],"mappings":"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","file":"js/factories/edit_tabs.js","sourcesContent":["import * as TabsModel from 'js/models/explicit_url';\nimport * as TabsEditView from 'js/views/tabs';\nimport * as xmoduleLoader from 'xmodule';\nimport './base';\nimport 'cms/js/main';\nimport 'xblock/cms.runtime.v1';\n\n'use strict';\nexport default function EditTabsFactory(courseLocation, explicitUrl) {\n    xmoduleLoader.done(function() {\n        var model = new TabsModel({\n                id: courseLocation,\n                explicit_url: explicitUrl\n            }),\n            editView;\n\n        editView = new TabsEditView({\n            el: $('.tab-list'),\n            model: model,\n            mast: $('.wrapper-mast')\n        });\n    });\n};\n\nexport {EditTabsFactory}\n\n\n\n// WEBPACK FOOTER //\n// ./cms/static/js/factories/edit_tabs.js","/**\n * A model that simply allows the update URL to be passed\n * in as an argument.\n */\ndefine(['backbone'], function(Backbone) {\n    return Backbone.Model.extend({\n        defaults: {\n            explicit_url: ''\n        },\n        url: function() {\n            return this.get('explicit_url');\n        }\n    });\n});\n\n\n\n// WEBPACK FOOTER //\n// ./cms/static/js/models/explicit_url.js","define(['backbone', 'js/utils/module'], function(Backbone, ModuleUtils) {\n    var ModuleInfo = Backbone.Model.extend({\n        urlRoot: ModuleUtils.urlRoot,\n\n        defaults: {\n            id: null,\n            data: null,\n            metadata: null,\n            children: null\n        }\n    });\n    return ModuleInfo;\n});\n\n\n\n// WEBPACK FOOTER //\n// ./cms/static/js/models/module_info.js","(function() {\n    'use strict';\n\n    var __hasProp = {}.hasOwnProperty,\n        __extends = function(child, parent) {\n            var key;\n            for (key in parent) {\n                if (__hasProp.call(parent, key)) {\n                    child[key] = parent[key];\n                }\n            }\n            function Ctor() {\n                this.constructor = child;\n            }\n            Ctor.prototype = parent.prototype;\n            child.prototype = new Ctor();\n            child.__super__ = parent.prototype;\n            return child;\n        };\n\n    define(['jquery', 'underscore', 'gettext', 'xblock/runtime.v1', 'js/views/xblock', 'js/views/modals/edit_xblock'],\n        function($, _, gettext, XBlock, XBlockView, EditXBlockModal) {\n            var ModuleEdit = (function(_super) {\n                __extends(ModuleEdit, _super);\n\n                function ModuleEdit() {\n                    return ModuleEdit.__super__.constructor.apply(this, arguments);\n                }\n\n                ModuleEdit.prototype.tagName = 'li';\n\n                ModuleEdit.prototype.className = 'component';\n\n                ModuleEdit.prototype.editorMode = 'editor-mode';\n\n                ModuleEdit.prototype.events = {\n                    'click .edit-button': 'clickEditButton',\n                    'click .delete-button': 'onDelete'\n                };\n\n                ModuleEdit.prototype.initialize = function() {\n                    this.onDelete = this.options.onDelete;\n                    return this.render();\n                };\n\n                ModuleEdit.prototype.loadDisplay = function() {\n                    var xblockElement;\n                    xblockElement = this.$el.find('.xblock-student_view');\n                    if (xblockElement.length > 0) {\n                        return XBlock.initializeBlock(xblockElement);\n                    }\n                };\n\n                ModuleEdit.prototype.createItem = function(parent, payload, callback) {\n                    var _this = this;\n                    if (_.isNull(callback)) {\n                        callback = function() {};\n                    }\n                    payload.parent_locator = parent;\n                    return $.postJSON(this.model.urlRoot + '/', payload, function(data) {\n                        _this.model.set({\n                            id: data.locator\n                        });\n                        _this.$el.data('locator', data.locator);\n                        _this.$el.data('courseKey', data.courseKey);\n                        return _this.render();\n                    }).success(callback);\n                };\n\n                ModuleEdit.prototype.loadView = function(viewName, target, callback) {\n                    var _this = this;\n                    if (this.model.id) {\n                        return $.ajax({\n                            url: '' + (decodeURIComponent(this.model.url())) + '/' + viewName,\n                            type: 'GET',\n                            cache: false,\n                            headers: {\n                                Accept: 'application/json'\n                            },\n                            success: function(fragment) {\n                                return _this.renderXBlockFragment(fragment, target).done(callback);\n                            }\n                        });\n                    }\n                };\n\n                ModuleEdit.prototype.render = function() {\n                    var _this = this;\n                    return this.loadView('student_view', this.$el, function() {\n                        _this.loadDisplay();\n                        return _this.delegateEvents();\n                    });\n                };\n\n                ModuleEdit.prototype.clickEditButton = function(event) {\n                    var modal;\n                    event.preventDefault();\n                    modal = new EditXBlockModal();\n                    return modal.edit(this.$el, this.model, {\n                        refresh: _.bind(this.render, this)\n                    });\n                };\n\n                return ModuleEdit;\n            }(XBlockView));\n            return ModuleEdit;\n        });\n}).call(this);\n\n\n\n// WEBPACK FOOTER //\n// ./cms/static/js/views/module_edit.js","/* globals analytics, course_location_analytics */\n\n(function(analytics, course_location_analytics) {\n    'use strict';\n\n    var __hasProp = {}.hasOwnProperty,\n        __extends = function(child, parent) {\n            var key;\n            for (key in parent) {\n                if (__hasProp.call(parent, key)) {\n                    child[key] = parent[key];\n                }\n            }\n            function Ctor() {\n                this.constructor = child;\n            }\n            Ctor.prototype = parent.prototype;\n            child.prototype = new Ctor();\n            child.__super__ = parent.prototype;\n            return child;\n        };\n\n    define(['underscore', 'jquery', 'jquery.ui', 'backbone', 'common/js/components/views/feedback_prompt',\n        'common/js/components/views/feedback_notification', 'js/views/module_edit',\n        'js/models/module_info', 'js/utils/module'],\n        function(_, $, ui, Backbone, PromptView, NotificationView, ModuleEditView, ModuleModel, ModuleUtils) {\n            var TabsEdit;\n            TabsEdit = (function(_super) {\n                __extends(TabsEdit, _super);\n\n                function TabsEdit() {\n                    var self = this;\n                    this.deleteTab = function() {\n                        return TabsEdit.prototype.deleteTab.apply(self, arguments);\n                    };\n                    this.addNewTab = function() {\n                        return TabsEdit.prototype.addNewTab.apply(self, arguments);\n                    };\n                    this.tabMoved = function() {\n                        return TabsEdit.prototype.tabMoved.apply(self, arguments);\n                    };\n                    this.toggleVisibilityOfTab = function() {\n                        return TabsEdit.prototype.toggleVisibilityOfTab.apply(self, arguments);\n                    };\n                    this.initialize = function() {\n                        return TabsEdit.prototype.initialize.apply(self, arguments);\n                    };\n                    return TabsEdit.__super__.constructor.apply(this, arguments);\n                }\n\n                TabsEdit.prototype.initialize = function(options) {\n                    var self = this;\n                    this.$('.component').each(function(idx, element) {\n                        var model;\n                        model = new ModuleModel({\n                            id: $(element).data('locator')\n                        });\n                        return new ModuleEditView({\n                            el: element,\n                            onDelete: self.deleteTab,\n                            model: model\n                        });\n                    });\n                    this.options = _.extend({}, options);\n                    this.options.mast.find('.new-tab').on('click', this.addNewTab);\n                    $('.add-pages .new-tab').on('click', this.addNewTab);\n                    $('.toggle-checkbox').on('click', this.toggleVisibilityOfTab);\n                    return this.$('.course-nav-list').sortable({\n                        handle: '.drag-handle',\n                        update: this.tabMoved,\n                        helper: 'clone',\n                        opacity: '0.5',\n                        placeholder: 'component-placeholder',\n                        forcePlaceholderSize: true,\n                        axis: 'y',\n                        items: '> .is-movable'\n                    });\n                };\n\n                TabsEdit.prototype.toggleVisibilityOfTab = function(event) {\n                    var checkbox_element, saving, tab_element;\n                    checkbox_element = event.target;\n                    tab_element = $(checkbox_element).parents('.course-tab')[0];\n                    saving = new NotificationView.Mini({\n                        title: gettext('Saving')\n                    });\n                    saving.show();\n                    return $.ajax({\n                        type: 'POST',\n                        url: this.model.url(),\n                        data: JSON.stringify({\n                            tab_id_locator: {\n                                tab_id: $(tab_element).data('tab-id'),\n                                tab_locator: $(tab_element).data('locator')\n                            },\n                            is_hidden: $(checkbox_element).is(':checked')\n                        }),\n                        contentType: 'application/json'\n                    }).success(function() {\n                        return saving.hide();\n                    });\n                };\n\n                TabsEdit.prototype.tabMoved = function() {\n                    var saving, tabs;\n                    tabs = [];\n                    this.$('.course-tab').each(function(idx, element) {\n                        return tabs.push({\n                            tab_id: $(element).data('tab-id'),\n                            tab_locator: $(element).data('locator')\n                        });\n                    });\n                    analytics.track('Reordered Pages', {\n                        course: course_location_analytics\n                    });\n                    saving = new NotificationView.Mini({\n                        title: gettext('Saving')\n                    });\n                    saving.show();\n                    return $.ajax({\n                        type: 'POST',\n                        url: this.model.url(),\n                        data: JSON.stringify({\n                            tabs: tabs\n                        }),\n                        contentType: 'application/json'\n                    }).success(function() {\n                        return saving.hide();\n                    });\n                };\n\n                TabsEdit.prototype.addNewTab = function(event) {\n                    var editor;\n                    event.preventDefault();\n                    editor = new ModuleEditView({\n                        onDelete: this.deleteTab,\n                        model: new ModuleModel()\n                    });\n                    $('.new-component-item').before(editor.$el);\n                    editor.$el.addClass('course-tab is-movable');\n                    editor.$el.addClass('new');\n                    setTimeout(function() {\n                        return editor.$el.removeClass('new');\n                    }, 1000);\n                    $('html, body').animate({\n                        scrollTop: $('.new-component-item').offset().top\n                    }, 500);\n                    editor.createItem(this.model.get('id'), {\n                        category: 'static_tab'\n                    });\n                    return analytics.track('Added Page', {\n                        course: course_location_analytics\n                    });\n                };\n\n                TabsEdit.prototype.deleteTab = function(event) {\n                    var confirm;\n                    confirm = new PromptView.Warning({\n                        title: gettext('Delete Page Confirmation'),\n                        message: gettext('Are you sure you want to delete this page? This action cannot be undone.'),\n                        actions: {\n                            primary: {\n                                text: gettext('OK'),\n                                click: function(view) {\n                                    var $component, deleting;\n                                    view.hide();\n                                    $component = $(event.currentTarget).parents('.component');\n                                    analytics.track('Deleted Page', {\n                                        course: course_location_analytics,\n                                        id: $component.data('locator')\n                                    });\n                                    deleting = new NotificationView.Mini({\n                                        title: gettext('Deleting')\n                                    });\n                                    deleting.show();\n                                    return $.ajax({\n                                        type: 'DELETE',\n                                        url: ModuleUtils.getUpdateUrl($component.data('locator'))\n                                    }).success(function() {\n                                        $component.remove();\n                                        return deleting.hide();\n                                    });\n                                }\n                            },\n                            secondary: [\n                                {\n                                    text: gettext('Cancel'),\n                                    click: function(view) {\n                                        return view.hide();\n                                    }\n                                }\n                            ]\n                        }\n                    });\n                    return confirm.show();\n                };\n\n                return TabsEdit;\n            }(Backbone.View));\n            return TabsEdit;\n        });\n}).call(this, analytics, course_location_analytics);\n\n\n\n// WEBPACK FOOTER //\n// ./cms/static/js/views/tabs.js","(function() { module.exports = window[\"jQuery\"]; }());\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"jQuery\"\n// module id = 0\n// module chunks = 3 4 5 6 9 10 11 13 14 15 16 17 18 19 20 21 23 24 25 26 27 28 29 30 31 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 84","(function() { module.exports = window[\"_\"]; }());\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"_\"\n// module id = 1\n// module chunks = 3 4 5 6 9 10 11 14 15 16 18 19 20 21 23 24 25 26 27 28 29 30 31 34 35 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75","(function() { module.exports = window[\"Backbone\"]; }());\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"Backbone\"\n// module id = 2\n// module chunks = 3 5 6 9 10 11 14 15 20 21 23 24 33 85","(function() { module.exports = window[\"gettext\"]; }());\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"gettext\"\n// module id = 3\n// module chunks = 5 6 10 14 15 16 20 21 24","(function() { module.exports = window[\"URI\"]; }());\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"URI\"\n// module id = 4\n// module chunks = 5 6 15"],"sourceRoot":""}